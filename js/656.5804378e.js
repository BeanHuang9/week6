"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[656],{422:function(t,n,e){function i(t){return{all:t=t||new Map,on:function(n,e){var i=t.get(n);i?i.push(e):t.set(n,[e])},off:function(n,e){var i=t.get(n);i&&(e?i.splice(i.indexOf(e)>>>0,1):t.set(n,[]))},emit:function(n,e){var i=t.get(n);i&&i.slice().map((function(t){t(e)})),(i=t.get("*"))&&i.slice().map((function(t){t(n,e)}))}}}e.d(n,{Z:function(){return o}});const s=i();var o=s},656:function(t,n,e){e.r(n),e.d(n,{default:function(){return z}});var i=e(3396),s=e(7139),o=e(9242);const l={class:"container"},a=(0,i._)("h2",null,"購物車",-1),r={class:"table align-middle"},c=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"圖片"),(0,i._)("th",null,"商品名稱"),(0,i._)("th",null,"價格"),(0,i._)("th")])],-1),d={style:{width:"200px"}},u={key:0,class:"h5"},p={key:1},g={class:"h6"},h={class:"h5"},b={class:"btn-group btn-group-sm"},_=["onClick","disabled"],w={class:"spinner-grow spinner-grow-sm"},k=(0,i.Uk)(" 查看更多 "),f=["onClick","disabled"],m={class:"spinner-grow spinner-grow-sm"},v=(0,i.Uk)(" 加到購物車 ");function y(t,n,e,y,C,D){return(0,i.wg)(),(0,i.iD)("div",l,[a,(0,i._)("table",r,[c,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(C.products,(n=>((0,i.wg)(),(0,i.iD)("tr",{key:n.id},[(0,i._)("td",d,[(0,i._)("div",{style:(0,s.j5)([{backgroundImage:`url(${n.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),(0,i._)("td",null,(0,s.zw)(n.title),1),(0,i._)("td",null,[n.price===n.origin_price?((0,i.wg)(),(0,i.iD)("div",u,(0,s.zw)(n.price)+" 元 ",1)):((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("del",g,"原價 "+(0,s.zw)(n.origin_price)+" 元",1),(0,i._)("div",h,"現在只要 "+(0,s.zw)(n.price)+" 元",1)]))]),(0,i._)("td",null,[(0,i._)("div",b,[(0,i._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e=>t.openProductModal(n.id),disabled:t.isLoadingItem===n.id},[(0,i.wy)((0,i._)("span",w,null,512),[[o.F8,t.isLoadingItem===n.id]]),k],8,_),(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:t=>D.addToCart(n.id),disabled:t.isLoadingItem===n.id},[(0,i.wy)((0,i._)("span",m,null,512),[[o.F8,t.isLoadingItem===n.id]]),v],8,f)])])])))),128))])])])}var C=e(422),D={data(){return{cartData:{carts:[]},products:[]}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/api/beanhuang/products/all").then((t=>{console.log(t),this.products=t.data.products}))},addToCart(t,n=1){const e={product_id:t,qty:n};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/api/beanhuang/cart",{data:e}).then((t=>{console.log(t),C.Z.emit("get-cart")}))}},mounted(){this.getProducts()}},I=e(89);const x=(0,I.Z)(D,[["render",y]]);var z=x}}]);
//# sourceMappingURL=656.5804378e.js.map